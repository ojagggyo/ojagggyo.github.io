<!doctype html>
<html lang="en">
    <head>
        <title>getblog</title>
        <meta charset="utf-8">
        <!-- <link rel="stylesheet" href="getblog.css" type="text/css" /> -->
        <script src="https://github.com/steemit/steem-js/releases/download/v0.7.7/steem.min.js"></script>
        <!-- <script src="./steemitapi/getblog.js"></script> -->
      
      <script>
          
          
function donokuraimae(date){
	date1 = new Date(date);
	date1.setHours(date1.getHours() + 9);
	var now = new Date();
	sa = now - date1;
	if(sa >= 86400000){return Math.floor(sa / 86400000)+'日前';}
	if(sa >= 3600000){return Math.floor(sa / 3600000)+'時間前';}
	if(sa >= 60000){return Math.floor(sa / 60000)+'分前';}
	if(sa >= 1000){return Math.floor(sa / 1000)+'秒前';}
	return 'たった今';
}


	


async function aaa(){
    let ret = steem.api.getBlogAsync("yasu", 3, 3);
	console.log(ret);
	return ret;
};

function clickBtn(){
	aaa().then(result => {
		makeTable(result);
	}).catch(err => {
		console.log('☆');
		console.log(err);
	});
}
	
function makeTable(records){
	console.log('☆records☆');
	console.log(records);
	let html = '<table border=1 >';
	//テーブルのヘッダー
	html = html + '<tr>';
	html = html + '<th>entry id</th><th>blog</th><th>created</th>';
	html = html + '</tr>';
	for(let i=0; i<records.length; i=i+1){
		html = html + '<tr>';
		html = html + '<td align=right>' + records[i].entry_id + '</td>';//
		html = html + '<td>' + records[i].blog + '</td>';
		html = html + '<td>' + records[i].comment.created + '</td>';
		
		
		//
	}
	html = html + '</table>';
	document.getElementById("text").innerHTML = html;
}

steem.api.setOptions({url: 'https://api.steemit.com'})

window.onload = function() {
	clickBtn();
};
          
          
        </script>
      
    </head>
    <body>        
        <p>ブログを表示します。</p>
        <span id="text"></span>    
        <!-- <input type="button" value="もっと見る" onclick="clickBtn()" /> -->
    </body>
</html>
